<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ILETROCAR Clima</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#001a33;
  color:white;
  text-align:center;
}

.topo{
  background:#003366;
  padding:20px;
  font-size:40px;
  display:flex;
  justify-content:space-between;
}

.hora{
  font-size:120px;
  margin-top:60px;
}

.clima{
  font-size:60px;
  margin-top:40px;
}
</style>
</head>

<body>

<div class="topo">
  <b>ILETROCAR</b>
  <span>Vargem Grande do Sul - SP</span>
</div>

<div class="hora" id="hora">--:--</div>
<div class="clima" id="clima">Carregando clima...</div>

<script>
const API_KEY = "b6da075db2b8724811579c96f5239b4d";

function atualizarHora(){
  const agora = new Date();
  document.getElementById("hora").innerText =
    agora.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'});
}
setInterval(atualizarHora,1000);
atualizarHora();

async function carregarClima(){
  try{
    const resp = await fetch(
      https://api.openweathermap.org/data/2.5/weather?q=Vargem Grande do Sul,BR&appid=${API_KEY}&units=metric&lang=pt_br
    );
    const data = await resp.json();

    document.getElementById("clima").innerText =
      data.main.temp.toFixed(0) + "Â°C - " +
      data.weather[0].description;

  }catch(e){
    document.getElementById("clima").innerText =
      "Erro ao carregar clima";
  }
}
carregarClima();
setInterval(carregarClima,600000);
</script>

</body>
</html>
