<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>RSS Autos Notícias</title>
<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:linear-gradient(#0a1a2f,#1f4d8b);
  color:white;
  text-align:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}
.rssTitle{font-size:60px;margin-bottom:20px;font-weight:bold;}
#rssContainer{width:90%;height:70%;overflow:hidden;position:relative;}
#rss{position:absolute;width:100%;}
.rssItem{font-size:28px;margin:30px 0;text-align:left;}
.rssItem b{display:block;font-size:32px;margin-bottom:5px;}
.rssItem span{font-size:24px;color:#ddd;}
.rssItem .source{font-size:20px;color:#aaa;margin-top:5px;}
</style>
</head>
<body>

<div class="rssTitle">NOTÍCIAS AUTOS NOTÍCIAS</div>
<div id="rssContainer"><div id="rss">Carregando notícias...</div></div>

<script>
const rssURL = "https://autosnoticias.webnode.page/rss/noticias.xml";

function extrairFonte(url){
  try{return new URL(url).hostname.replace('www.','');}
  catch{return "Fonte desconhecida";}
}

async function atualizarRSS(){
  try{
    const r = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssURL)}`);
    const d = await r.json();
    let html="";
    d.items.slice(0,10).forEach(n=>{
      let fonte = extrairFonte(n.link);
      html += `<div class="rssItem">
        <b>${n.title}</b>
        <span>${n.description || ""}</span>
        <div class="source">${fonte}</div>
      </div>`;
    });
    document.getElementById("rss").innerHTML = html;
    startScroll();
  }catch{
    document.getElementById("rss").innerHTML="Erro ao carregar notícias";
  }
}

let scrollPos=0,scrollInterval;
function startScroll(){
  const rss = document.getElementById("rss");
  const container = document.getElementById("rssContainer");
  clearInterval(scrollInterval);
  scrollPos = container.offsetHeight;
  rss.style.top = scrollPos+"px";
  scrollInterval = setInterval(()=>{
    scrollPos -= 1;
    rss.style.top = scrollPos+"px";
    if(scrollPos + rss.offsetHeight < 0){
      scrollPos = container.offsetHeight;
    }
  },50);
}

atualizarRSS();
setInterval(atualizarRSS,600000);
</script>

</body>
</html>
